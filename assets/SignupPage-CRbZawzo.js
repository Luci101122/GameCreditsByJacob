import{r as n,u as h,a as g,j as t}from"./index-Bg-_CHVe.js";import{a as i}from"./axiosInstance-BLLi8iuW.js";import{l as x}from"./authSlice-CgVLuQqs.js";const S=()=>{const[s,u]=n.useState(""),[a,l]=n.useState(""),[o,p]=n.useState("user"),c=h(),d=g(),m=async e=>{e.preventDefault();try{await i.post("/auth/register",{username:s,password:a,role:o});const r=await i.post("/auth/login",{username:s,password:a});c(x(r.data)),d("/admin")}catch(r){console.error("Registration failed",r)}};return t.jsxs("form",{onSubmit:m,children:[t.jsx("input",{type:"text",value:s,onChange:e=>u(e.target.value),placeholder:"Username"}),t.jsx("input",{type:"password",value:a,onChange:e=>l(e.target.value),placeholder:"Password"}),t.jsxs("select",{value:o,onChange:e=>p(e.target.value),children:[t.jsx("option",{value:"user",children:"User"}),t.jsx("option",{value:"admin",children:"Admin"})]}),t.jsx("button",{type:"submit",children:"Sign Up"})]})};export{S as default};
